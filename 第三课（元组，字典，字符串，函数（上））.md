<font size = 4>

# 大纲
- ## 元组的使用
- ## 字典的使用
- ## 函数
- ## 字符串常用内置方法
- ## 项目实践

---


### 1. 元组（tuple）

元组的相关链接：[tuple](http://www.runoob.com/python3/python3-tuple.html)

- 顺序存储相同/不同类型的元素
- 元组定义，使用将元素括起来，元素之间用“，”，隔开

<font color = red>实例1</font>
```
db_info = ("192.168.10.1",3306,"root","root123")
```
- 特性：不可变，不支持添加、修改、删除元素操作

<font color = red>实例2</font>

```
#这里会报错，元素是不能修改的
db_info[0] = 5

del db_info[1]#不支持删除
```

结果：

```
TypeError                                 Traceback (most recent call last)
<ipython-input-2-006550c675f2> in <module>()
----> 1 db_info[0] = 5

TypeError: 'tuple' object does not support item assignment
-----------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)
<ipython-input-7-3bc97da19d51> in <module>()
----> 1 del db_info[1]#不支持删除

TypeError: 'tuple' object doesn't support item deletion

```
- 查询：通过下标查询元组指定位置的元素

<font color = red>实例3</font>

```
ip = db_info[0]
port = db_info[1]
print(ip)
print(port)
```

结果：
```
192.168.10.1
3306

```
- 空元组、只有一个元素的元组

<font color = red>实例4</font>
```
#定义只有一个元素的元组
one_tuple = ("zhangsan",)

#空元组
none_tuple = ()
print(one_tuple)
print(none_tuple)
```

结果：
```
('zhangsan',)
()
```

- 循环遍历元组

<font color = red >实例5：</font>

```
#循环遍历元组
for item in db_info:
    print(item)
```

结果：

```
192.168.10.1
3306
root
root123
```

### 2. 字典（dict）

字典相关链接：[dict](http://www.runoob.com/python3/python3-dictionary.html)

- 存储Key-Value键值对类型的数据
- 字典定义：{key1:value1 , key2:value2 , ···}

<font color = red>实例6：</font>

```
#字典
user_info_dict = {"name":"悟空","age":100,"gender":"male","job":"取经"}
```

- 查询：根据Key查找Value
- 字典具有添加、修改、删除操作

<font color = red>实例7：</font>

```
#对键值进行修改以及取值
user_info_dict = {"name":"悟空","age":100,"gender":"male","job":"取经"}
user_info_dict["job"] = "取经|偷桃"
print(user_info_dict)
print("%s的年龄是：%d，性别：%s，工作内容：%s"%(user_info_dict["name"],user_info_dict["age"],user_info_dict["gender"],user_info_dict["job"]))
```

结果：

```
{'name': '悟空', 'age': 100, 'gender': 'male', 'job': '取经|偷桃'}
悟空的年龄是：100，性别：male，工作内容：取经|偷桃

```

<font color = red>实例8：</font>

```
#key不能相同,会默认后面的键值
user_info_dict = {"name":"悟空","age":100,"gender":"male","job":"取经","job":"偷桃"}
print(user_info_dict)
```

结果：

```
{'name': '悟空', 'age': 100, 'gender': 'male', 'job': '偷桃'}

```

<font color = red>实例9：</font>

```
#添加键值对
user_info_dict["tel"] = "13812345567"
print(user_info_dict)
```

结果：

```
{'name': '悟空', 'age': 100, 'gender': 'male', 'job': '偷桃', 'tel': '13812345567'}
```

- 字典的内置方法

1. dict.get(key, default=None) 

<font size = 2>定义： Python 字典(Dictionary) get() 函数返回指定键的值，如果值不在字典中返回默认值。</font>
    
    1. 参数
        1. key -- 字典中要查找的键。
        2. default -- 如果指定键的值不存在时，返回该默认值值。
    2. 返回值：
        返回指定键的值，如果值不在字典中返回默认值None
  
<font color = red >实例10：</font>

```
dict = {'Name': 'Runoob', 'Age': 27}

print ("Age 值为 : %s" %  dict.get('Age'))
print ("Sex 值为 : %s" %  dict.get('Sex', "NA"))
```

结果：

```
Age 值为 : 27
Sex 值为 : NA
```
2. dict.keys()

<font size = 2>定义：Python 字典(Dictionary) keys() 函数以列表返回一个字典所有的键。</font>

    1. 参数
        NA
    2. 返回值：
        返回一个字典所有的键
        
<font color = red >实例11：</font>

```
dict = {'Name': 'Zara', 'Age': 7}
print ("Value : %s" %  dict.keys())
```

结果：

```
Value : ['Name', 'Age']
```

3. dict.values()

<font size = 2>定义：Python 字典(Dictionary) values() 函数以列表返回字典中的所有值。</font>

    1. 参数
        NA
    2. 返回值
        返回字典中所有值

<font color = red >实例12：</font>

```
dict = {'Name': 'Zara', 'Age': 7}

print ("Value : %s" %  dict.values())
```

结果：

```
Value : ['Zara', 7]
```

4. dict.items()

<font size = 2> 定义：Python 字典(Dictionary) items() 函数以列表返回可遍历的(键, 值) 元组数组。</font>

    1. 参数
        NA
    2. 返回值
        返回可遍历的（键，值）元组数组
        
<font color = red >实例13：</font>

```
dict = {'Google': 'www.google.com', 'Runoob': 'www.runoob.com', 'taobao': 'www.taobao.com'}
 
print ("字典值 : %s" %  dict.items())
 
# 遍历字典列表
for key,values in  dict.items():
    print (key,values)
```

结果：

```
字典值 : [('Google', 'www.google.com'), ('taobao', 'www.taobao.com'), ('Runoob', 'www.runoob.com')]
Google www.google.com
taobao www.taobao.com
Runoob www.runoob.com
```

5. dict.clear()

<font size = 2> 定义：Python 字典(Dictionary) clear() 函数用于删除字典内所有元素。</font>

    1. 参数
        NA
    2. 返回值
        该函数没有任何返回值

<font color = red >实例14：</font>

```
dict = {'Name': 'Zara', 'Age': 7};

print ("Start Len : %d" %  len(dict))
dict.clear()
print ("End Len : %d" %  len(dict))
```

结果：

```
Start Len : 2
End Len : 0
```

### 3. 集合Set
- 无序存储不同数据类型，不重复元素的序列

<font color = red >实例15：</font>

```
#集合对列表去重
student_list = ["zhansan","lisi","wangwu",'zhangsan','lisi']
student_set = set(student_list)
print(type(student_set))
print(len(student_set))
print(student_set)
```
结果：

```
<class 'set'>
4
{'zhansan', 'zhangsan', 'wangwu', 'lisi'}

```

- 创建空集合

<font color = red >实例16：</font>

```
#创建一个空集合
none_dict = {}#注意这是创建一个空字典
none_set = set() #空集合
```
结果：
```
{}
set()

```

- 通过add(key)方法可以添加元素到set中，可以重复添加，但不会有效果：

<font color = red >实例17：</font>

```
#add添加元素到集合
name_set = {"zhansan","lisi"}
name_set.add("wangwu")
print(name_set)
```
结果：
```
{'zhansan', 'wangwu', 'lisi'}
```

- 使用update（序列）方法将一个序列中的元素添加到集合中，同时对元素去重

<font color = red >实例18：</font>

```
#update(序列)
name_set.update(["悟空","八戒"],["张飞","李逵"])
print(name_set)
```

结果：

```
{'悟空', '李逵', 'wangwu', 'zhansan', '八戒', '张飞', 'lisi'}

```
- remove（） 和 discard（） 以及pop（）的区别，都是删除的指令

<font color = red >实例19：</font>

```
name_set.update(["悟空","八戒"],["张飞","李逵"])
print(name_set)

#remove 删除元素
name_set.remove("悟空")
print(name_set)

#dicard(元素),删除一个不存在的元素，不会报错
name_set.discard("西游记")

#pop()随机删除集合中的某个元素，并返回被删除的元素
print(name_set)
name = name_set.pop()
print(name_set)
# print(name)

#使用remove删除一个不存在的元素，会报错
name_set.remove("西游记")

```

结果：

```
{'悟空', '李逵', 'wangwu', 'zhansan', '八戒', '张飞', 'lisi'}
{'李逵', 'wangwu', 'zhansan', '八戒', '张飞', 'lisi'}
{'李逵', 'wangwu', 'zhansan', '八戒', '张飞', 'lisi'}
{'wangwu', 'zhansan', '八戒', '张飞', 'lisi'}
wangwu
---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)
<ipython-input-31-c5efead19a78> in <module>()
     13 
     14 #使用remove删除一个不存在的元素，会报错
---> 15 name_set.remove("西游记")
     16 
     17 

KeyError: '西游记'


```

- 集合操作
    1. 交集intersection（&）
    2. 并集union(|)
    3. 差集difference(-)
    4. 对称差集symmetric_difference(^)

<font color = red >实例20：</font>

```
#交集
num_set1 = {1,2,4,7}
num_set2 = {2,5,8,9}
inter_set1 = num_set1 & num_set2
inter_set2 = num_set1.intersection(num_set2)
print(inter_set1)
print(inter_set2)

#并集
union_set1 = num_set1 | num_set2
union_set2 = num_set1.union(num_set2)
print(union_set1)
print(union_set2)

#差集(set1中除去并集所剩下的集合)
diff_set1 = num_set1 - num_set2
diff_set2 = num_set1.difference(num_set2)
print(diff_set1)
print(diff_set2)

#对称差集（set1和set2分别除去交集后再并集）
sym_diff_set1 = num_set1 ^ num_set2
sym_diff_set2 = num_set1.symmetric_difference(num_set2)
print(sym_diff_set1)
print(sym_diff_set2)
```

结果：

```
{2}
{2}
{1, 2, 4, 5, 7, 8, 9}
{1, 2, 4, 5, 7, 8, 9}
{1, 4, 7}
{1, 4, 7}
{1, 4, 5, 7, 8, 9}
{1, 4, 5, 7, 8, 9}

```

### 4. 函数（上）

函数相关的链接：[函数](http://www.runoob.com/python/python-functions.html)

<font size = 2>定义：函数是组织好的，可重复使用的，用来实现单一，或相关联功能的代码段。
函数能提高应用的模块性，和代码的重复利用率。你已经知道Python提供了许多内建函数，比如print()。但你也可以自己创建函数，这被叫做用户自定义函数。
可以理解为对实现某一功能的封装。</font>

- 函数的语法格式：
```
def 函数名称（参数）：
    函数体代码
    return 返回值
```

- 函数定义以及函数调用（函数名（参数））

<font color = red >实例21：</font>
```
#函数的定义
def print_user_info():
    print("name:zhangsan")
    print("age:20")
    print("gender:male")

print_user_info()
```

结果：

```
name:zhangsan
age:20
gender:male

```

- 函数参数
    1. 形参：定义函数时设置的参数
    2. 调用函数时传入的参数

<font color = red >实例22：</font>

```
#带参函数注意，1.调用函数时传入的参数个数与函数定义参数个数相同。2.参数顺序要相同
#有参无返回值函数
##形参：name，age，gender
##实参：悟空，20，male
def print_user_info2(name,age,gender):
    print("name:%s"%name)
    print("age:%d"%age)
    print("gender:%s"%gender)

print_user_info2("悟空",20,"male")
print_user_info2("八戒",18,"male")
print_user_info()
```

- 函数类型
    1. 无参无返回值函数
    2. 无参有返回值函数
    3. 有参无返回值函数
    4. 有参有返回值函数

<font color = red >实例23：</font>
```
#有返回值函数
def x_y_sum_return(x,y):
    res = x + y
    return res

z = x_y_sum_return(2,3)
print(z)
```
结果：
```
5
```
### 4. 字符串常用内置方法

字符串相关链接：[字符串](http://www.runoob.com/python/python-strings.html)

1. str.find(str, beg=0, end=len(string))

<font size = 2> 定义：Python find() 方法检测字符串中是否包含子字符串 str ，如果指定 beg（开始） 和 end（结束） 范围，则检查是否包含在指定范围内，如果包含子字符串返回开始的索引值，否则返回-1。</font>
    
    1.参数：
        str -- 指定检索的字符串
        beg -- 开始索引，默认为0。
        end -- 结束索引，默认为字符串的长度。
    2.返回值
        如果包含子字符串返回开始的索引值，否则返回-1。

<font color = red >实例24：</font>
```
#find
line = "hello world hello python"

#hello第一次出现的脚标
print(line.find("hello"))

#指定查找的起始脚标
print(line.find("hello",6))

#不存在的子字符串返回-1
print(line.find("java"))
```

结果：
```
0
12
-1

```

2. str.count(sub, start= 0,end=len(string))

<font size = 2> 定义：Python count() 方法用于统计字符串里某个字符出现的次数。可选参数为在字符串搜索的开始与结束位置。</font>
    
    1.参数：
        sub -- 搜索的子字符串
        start -- 字符串开始搜索的位置。默认为第一个字符,第一个字符索引值为0。
        end -- 字符串中结束搜索的位置。字符中第一个字符的索引为 0。默认为字符串的最后一个位置。
    2.返回值
        该方法返回子字符串在字符串中出现的次数。
        
<font color = red >实例25：</font>
```
str = "this is string example....wow!!!"
 
sub = "i"
print ("str.count(sub, 4, 40) : ", str.count(sub, 4, 40))
sub = "wow"
print ("str.count(sub) : ", str.count(sub))
```
结果：
```
str.count(sub, 4, 40) :  2
str.count(sub) :  1
```
3. str.replace(old, new[, max])

<font size = 2> 定义：Python replace() 方法把字符串中的old（旧字符串） 替换成new(新字符串)，如果指定第三个参数max，则替换不超过 max 次。</font>
    
    1.参数：
        old -- 将被替换的子字符串。
        new -- 新字符串，用于替换old子字符串。
        max -- 可选字符串, 替换不超过 max 次
    2.返回值
        返回字符串中的old（旧字符串）替换成new(新字符串)后生成的新字符串，如果指定第三个参数max，则替换不超过max 次。

<font color = red >实例26：</font>
```
str = "this is string example....wow!!! this is really string"
print (str.replace("is", "was"))
print (str.replace("is", "was", 3))
```
结果：
```
thwas was string example....wow!!! thwas was really string
thwas was string example....wow!!! thwas is really string
```
4. str.split(str="", num=string.count(str))

<font size = 2> 定义：Python split()通过指定分隔符对字符串进行切片，如果参数num有指定值，则仅分隔num 个子字符串</font>
    
    1.参数：
        str -- 分隔符，默认为所有的空字符，包括空格、换行(\n)、制表符(\t)等。
        num -- 分割次数。
    2.返回值
        返回分割后的字符串列表。

<font color = red >实例27：</font>
```
str = "Line1-abcdef \nLine2-abc \nLine4-abcd"
print (str.split( ))
print (str.split(' ', 1 ))
```
结果：
```
['Line1-abcdef', 'Line2-abc', 'Line4-abcd']
['Line1-abcdef', '\nLine2-abc \nLine4-abcd']
```
5. startswith

<font size = 2> 定义：Python startswith()方法用于检查字符串是否是以指定子字符串开头，如果是则返回 True，否则返回 False。如果参数 beg 和 end 指定值，则在指定范围内检查。</font>
    
    1.参数：
        str -- 检测的字符串。
        strbeg -- 可选参数用于设置字符串检测的起始位置。
        strend -- 可选参数用于设置字符串检测的结束位置。
    2.返回值
        如果检测到字符串则返回True，否则返回False。


<font color = red >实例28：</font>
```
str = "this is string example....wow!!!"
print (str.startswith( 'this' ))
print (str.startswith( 'is', 2, 4 ))
print (str.startswith( 'this', 2, 4 ))
```
结果：
```
True
True
False
```
6. str.endswith(suffix[, start[, end]])

<font size = 2> 定义：Python endswith()方法用于判断字符串是否以指定后缀结尾，如果以指定后缀结尾返回True，否则返回False。可选参数"start"与"end"为检索字符串的开始与结束位置。</font>
    
    1.参数：
        suffix -- 该参数可以是一个字符串或者是一个元素。
        start -- 字符串中的开始位置。
        end -- 字符中结束位置。
    2.返回值
        如果字符串含有指定的后缀返回True，否则返回False。


<font color = red >实例29：</font>
```
str = "this is string example....wow!!!"

suffix = "wow!!!"
print (str.endswith(suffix))
print (str.endswith(suffix,20))

suffix = "is"
print (str.endswith(suffix, 2, 4))
print (str.endswith(suffix, 2, 6))

```
结果：
```
True
True
True
False
```
##startswith、endswith的应用场景
```
#需要找出2018年以log结尾的文件
files = ["20171201.txt","20171201.log","20180101.txt","20180101.log"]
for file in files:
    if file.startswith("2018") and file.endswith("log"):
        print("2018年待处理日志：%s"%file)
```
结果：
```
2018年待处理日志：20180101.log

```
7. str.upper()

<font size = 2> 定义：Python upper()方法将字符串中的小写字母转为大写字母。</font>
    
    1.参数：
        NA
    2.返回值
        返回小写字母转为大写字母的字符串。


<font color = red >实例30：</font>
```
str = "this is string example....wow!!!"

print ("str.upper() : ", str.upper())
```
结果：
```
str.upper() :  THIS IS STRING EXAMPLE....WOW!!!
```
8. str.lower()

<font size = 2> 定义：Python lower()方法转换字符串中所有大写字符为小写。</font>
    
    1.参数：
        NA
    2.返回值
        返回大写字母转为小写字母的字符串。


<font color = red >实例30：</font>
```
str = "THIS IS STRING EXAMPLE....WOW!!!"

print (str.lower())
```
结果：
```
this is string example....wow!!!
```

### 项目实践

<font color = red size = 4 >项目实践code：</font>
- 无人便利店升级（要求）
    
    1. 将具有相同功能的代码封装成函数
    2. 添加购物车结算功能
    3. 货架商品卖完，自动补货

```
#仓库
def warehouse(item_type):
    # 泡面
    pm_list = ["老坛酸菜", "红烧牛肉", "酸辣粉", "拉面"]
    # 榨菜
    zc_list = ["老干妈", "乌江"]
    # 香肠
    xc_list = ["王中王", "蒜肠", "淀粉肠"]
    if item_type == "pm":
        return  pm_list
    elif item_type == "zc":
        return  zc_list
    elif item_type == "xc":
        return  xc_list

#检测货架上的商品是否需要补货
def check_add_rack(rack,item_type,item_counts):
    if len(rack) == 0:
        print("---正在更新货架，请稍等---")
        item_list = warehouse(item_type)
        while len(rack) < item_counts:
            rack_index = len(rack) % len(item_list)
            rack.append(item_list[rack_index])
        print("----商品已上架----")
#购物车结算系统
def buy_car_account(buy_car):
    item_detail = {"老坛酸菜":5, "红烧牛肉":4, "酸辣粉":6, "拉面":7,"老干妈":10, "乌江":2,"王中王":2, "蒜肠":12, "淀粉肠":8}
    total_money = 0
    for item in buy_car:
        total_money += item_detail.get(item,0)
    return total_money
#购物大厅
def shopping_hall():
    # 三个空货架
    pm_rack = []
    zc_rack = []
    xc_rack = []
    #货架摆放商品数量
    pm_rack_counts = 1
    zc_rack_counts = 1
    xc_rack_counts = 1
    buy_car = []
    if_new_user = True
    while True:
        #自动检测货架是否需要补货
        check_add_rack(pm_rack,"pm",pm_rack_counts)
        check_add_rack(zc_rack,"zc",zc_rack_counts)
        check_add_rack(xc_rack,"xc",xc_rack_counts)
        if if_new_user:
            print("欢迎光临")
        item_id = input("==本店售卖商品：1 泡面，2 榨菜，3 香肠。请输入想要购买的商品编号：")
        if int(item_id) == 1:
            if len(pm_rack) >= 1:
                buy_car.append(pm_rack[len(pm_rack) - 1])
                pm_rack.pop()
            else:
                print("亲！非常抱歉，泡面已卖完。")
        elif int(item_id) == 2:
            if len(zc_rack) >= 1:
                buy_car.append(zc_rack[len(zc_rack) - 1])
                zc_rack.pop()
            else:
                print("亲！非常抱歉，榨菜已卖完。")
        elif int(item_id) == 3:
            if len(xc_rack) >= 1:
                buy_car.append(xc_rack[len(xc_rack) - 1])
                xc_rack.pop()
            else:
                print("亲！非常抱歉，香肠已卖完。")
        else:
            print("亲！您输入的商品还在火星，请输入在售的商品编号！")
            continue

        if_buy = input("请输入y或者n选择是否继续购物：")
        if if_buy == "n":
            if len(buy_car) > 0:
                total_money = buy_car_account(buy_car)
                print("您的购物车商品如下：",buy_car)
                print("$您本次消费金额{}元：".format(total_money))
                buy_car = []
                if_new_user = True
                print("欢迎下次光临")
            else:
                print("您没有购买任何商品")
                print("欢迎下次光临")
        else:
            if_new_user = False

shopping_hall()
```
### 作业(要求）：
1. 增加每位顾客的购买品种，可多次输入奶茶编号（每次一种）和数量，并设置
退出选项。

2. 将每位顾客的购买信息（奶茶品种和数量）记录在字典中，使用字典计算总消
费额。

3. 顾客购物信息打印时，分别显示每种口味奶茶的编号和数量，末尾显示总金额。
4. 非会员顾客要求设置会员号及手机号，并且将会员号与手机号记录为字典形式。
5. 将每位顾客的每条购物信息记录为一个字典（每种口味一个字典，分别记录会
员号、奶茶编号、购买数量），并将所有顾客的购物信息记入列表。
6. 将顾客的购物过程、购物信息打印、购物详情记录分别封装为函数。
7. 设置主函数，在主函数中调用上条所定义的函数。